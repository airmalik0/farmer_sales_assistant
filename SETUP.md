# ะะฝััััะบัะธั ะฟะพ ัััะฐะฝะพะฒะบะต ะธ ะทะฐะฟััะบั ะฟัะพะตะบัะฐ "ะคะตัะผะตั CRM"

## ะะฟะธัะฐะฝะธะต

CRM-ัะธััะตะผะฐ "ะคะตัะผะตั" ัะพััะพะธั ะธะท:
- **Backend**: FastAPI ั PostgreSQL ะธ Redis
- **Frontend**: React ั TypeScript ะธ Tailwind CSS
- **Bot**: Telegram ะฑะพั ะฝะฐ aiogram
- **AI**: ะะฝัะตะณัะฐัะธั ั OpenAI ะดะปั ะฐะฒัะพะผะฐัะธัะตัะบะพะณะพ ัะพะทะดะฐะฝะธั ะดะพััะต ะบะปะธะตะฝัะพะฒ
- **Workers**: Celery ะดะปั ัะพะฝะพะฒัั ะทะฐะดะฐั

## ะัะตะดะฒะฐัะธัะตะปัะฝัะต ััะตะฑะพะฒะฐะฝะธั

- Docker ะธ Docker Compose
- Git

## ะฃััะฐะฝะพะฒะบะฐ

1. **ะะปะพะฝะธััะนัะต ัะตะฟะพะทะธัะพัะธะน**
   ```bash
   git clone <repository-url>
   cd farmer-crm
   ```

2. **ะกะพะทะดะฐะนัะต ัะฐะนะป ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั**
   ```bash
   cp .env.example .env
   ```

3. **ะะฐะฟะพะปะฝะธัะต ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั ะฒ `.env`**
   ```env
   # Database
   DATABASE_URL=postgresql://farmer:password@localhost:5432/farmer_crm

   # Telegram
   TELEGRAM_BOT_TOKEN=your_bot_token_here
   FARMER_TELEGRAM_ID=123456789

   # OpenAI
   OPENAI_API_KEY=your_openai_api_key_here

   # Redis
   REDIS_URL=redis://localhost:6379

   # Backend
   BACKEND_HOST=0.0.0.0
   BACKEND_PORT=8000

   # Frontend
   FRONTEND_PORT=3000

   # Security
   SECRET_KEY=your_secret_key_here
   ```

## ะะฐัััะพะนะบะฐ Telegram ะฑะพัะฐ

1. **ะกะพะทะดะฐะนัะต ะฑะพัะฐ ะฒ Telegram**
   - ะะฐะฟะธัะธัะต @BotFather ะฒ Telegram
   - ะัะฟัะฐะฒััะต ะบะพะผะฐะฝะดั `/newbot`
   - ะกะปะตะดัะนัะต ะธะฝััััะบัะธัะผ ะดะปั ัะพะทะดะฐะฝะธั ะฑะพัะฐ
   - ะกะบะพะฟะธััะนัะต ัะพะบะตะฝ ะฑะพัะฐ ะฒ `TELEGRAM_BOT_TOKEN`

2. **ะะพะปััะธัะต ะฒะฐั Telegram ID**
   - ะะฐะฟะธัะธัะต @userinfobot ะฒ Telegram
   - ะัะฟัะฐะฒััะต ะปัะฑะพะต ัะพะพะฑัะตะฝะธะต
   - ะกะบะพะฟะธััะนัะต ะฒะฐั ID ะฒ `FARMER_TELEGRAM_ID`

## ะะฐัััะพะนะบะฐ OpenAI

1. **ะะพะปััะธัะต API ะบะปัั OpenAI**
   - ะะฐัะตะณะธัััะธััะนัะตัั ะฝะฐ https://platform.openai.com
   - ะกะพะทะดะฐะนัะต API ะบะปัั ะฒ ัะฐะทะดะตะปะต API Keys
   - ะกะบะพะฟะธััะนัะต ะบะปัั ะฒ `OPENAI_API_KEY`

## ะะฐะฟััะบ ะฟัะพะตะบัะฐ

1. **ะะฐะฟัััะธัะต ะฒัะต ัะตัะฒะธัั ัะตัะตะท Docker Compose**
   ```bash
   docker-compose up -d
   ```

2. **ะัะพะฒะตัััะต ััะฐััั ัะตัะฒะธัะพะฒ**
   ```bash
   docker-compose ps
   ```

3. **ะกะพะทะดะฐะนัะต ะผะธะณัะฐัะธะธ ะฑะฐะทั ะดะฐะฝะฝัั (ะฟะตัะฒัะน ะทะฐะฟััะบ)**
   ```bash
   docker-compose exec backend alembic upgrade head
   ```

## ะะพัััะฟ ะบ ัะตัะฒะธัะฐะผ

- **Frontend (Dashboard)**: http://localhost:3000
- **Backend API**: http://localhost:8000
- **API Documentation**: http://localhost:8000/docs
- **PostgreSQL**: localhost:5432
- **Redis**: localhost:6379

## ะัะฟะพะปัะทะพะฒะฐะฝะธะต

### ะะปั ัะตัะผะตัะฐ (ะผะตะฝะตะดะถะตัะฐ):

1. **ะะพัััะฟ ะบ ะฟะฐะฝะตะปะธ**
   - ะัะบัะพะนัะต http://localhost:3000 ะฒ ะฑัะฐัะทะตัะต
   - ะะฐะฝะตะปั ะดะพัััะฟะฝะฐ ะฑะตะท ะฐะฒัะพัะธะทะฐัะธะธ (MVP)

2. **ะะฐะฑะพัะฐ ั ะบะปะธะตะฝัะฐะผะธ**
   - ะะปะธะตะฝัั ะฟะพัะฒะปััััั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟัะธ ะฝะฐะฟะธัะฐะฝะธะธ ะฒ ะฑะพัะฐ
   - ะัะฑะตัะธัะต ะบะปะธะตะฝัะฐ ะธะท ัะฟะธัะบะฐ ัะปะตะฒะฐ
   - ะะตะดะธัะต ะฟะตัะตะฟะธัะบั ะฒ ัะตะฝััะฐะปัะฝะพะผ ะพะบะฝะต
   - ะัะพัะผะฐััะธะฒะฐะนัะต ะดะพััะต ะบะปะธะตะฝัะฐ ัะฟัะฐะฒะฐ

3. **ะะฐััะพะฒัะต ัะฐัััะปะบะธ**
   - ะะฐะฟะธัะธัะต ะปัะฑะพะต ัะพะพะฑัะตะฝะธะต ะฑะพัั ั ะฒะฐัะตะณะพ ะฐะบะบะฐัะฝัะฐ (FARMER_TELEGRAM_ID)
   - ะะพั ะฐะฒัะพะผะฐัะธัะตัะบะธ ัะฐะทะพัะปะตั ะตะณะพ ะฒัะตะผ ะบะปะธะตะฝัะฐะผ ั ะฟะตััะพะฝะฐะปัะฝัะผ ะฟัะธะฒะตัััะฒะธะตะผ

### ะะปั ะบะปะธะตะฝัะพะฒ:

1. **ะะฐัะฐะปะพ ัะฐะฑะพัั**
   - ะะฐะนะดะธัะต ะฒะฐัะตะณะพ ะฑะพัะฐ ะฒ Telegram ะฟะพ ะธะผะตะฝะธ
   - ะัะฟัะฐะฒััะต ะบะพะผะฐะฝะดั `/start`
   - ะะฐัะฝะธัะต ะพะฑัะตะฝะธะต ั ะฑะพัะพะผ

2. **ะะฑัะตะฝะธะต**
   - ะัะฟัะฐะฒะปัะนัะต ัะตะบััะพะฒัะต ัะพะพะฑัะตะฝะธั
   - ะะพะดะดะตัะถะธะฒะฐัััั ะณะพะปะพัะพะฒัะต ัะพะพะฑัะตะฝะธั, ัะพัะพ, ะดะพะบัะผะตะฝัั
   - ะัะต ัะพะพะฑัะตะฝะธั ัะพััะฐะฝััััั ะธ ะพัะพะฑัะฐะถะฐัััั ะฒ ะฟะฐะฝะตะปะธ ะผะตะฝะตะดะถะตัะฐ

## ะคัะฝะบัะธะธ ัะธััะตะผั

### โ ะะตะฐะปะธะทะพะฒะฐะฝะฝัะต ััะฝะบัะธะธ

- Telegram ะฑะพั ะดะปั ะบะปะธะตะฝัะพะฒ
- ะะตะฑ-ะฟะฐะฝะตะปั ะดะปั ะผะตะฝะตะดะถะตัะฐ
- ะะฒัััะพัะพะฝะฝะตะต ะพะฑัะตะฝะธะต ัะตัะตะท ะฟะฐะฝะตะปั
- ะะฐััะพะฒัะต ัะฐัััะปะบะธ
- ะะฒัะพะผะฐัะธัะตัะบะพะต ัะพะทะดะฐะฝะธะต ะบะปะธะตะฝัะพะฒ
- AI ะฐะฝะฐะปะธะท ะดะธะฐะปะพะณะพะฒ ะธ ัะพะทะดะฐะฝะธะต ะดะพััะต
- Real-time ะพะฑะฝะพะฒะปะตะฝะธั ัะตัะตะท WebSocket
- ะะพะดะดะตัะถะบะฐ ัะฐะทะฝัั ัะธะฟะพะฒ ัะพะพะฑัะตะฝะธะน

### ๐ AI ะะพััะต

- ะะฒัะพะผะฐัะธัะตัะบะธ ัะพะทะดะฐะตััั ัะตัะตะท 5 ะผะธะฝัั ะฟะพัะปะต ะทะฐะฒะตััะตะฝะธั ะดะธะฐะปะพะณะฐ
- ะะฝะฐะปะธะทะธััะตั ััะธะปั ะพะฑัะตะฝะธั, ะฟะพััะตะฑะฝะพััะธ, ััะฐะฟ ะฒ ะฒะพัะพะฝะบะต
- ะะฑะฝะพะฒะปัะตััั ะฟัะธ ะฝะพะฒัั ะดะธะฐะปะพะณะฐั
- ะะพะผะพะณะฐะตั ะผะตะฝะตะดะถะตัั ะปัััะต ะฟะพะฝะธะผะฐัั ะบะปะธะตะฝัะฐ

### ๐ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ   Telegram Bot  โ    โ   Web Dashboard โ    โ   PostgreSQL    โ
โ   (aiogram)     โโโโโบโ   (React/TS)    โโโโโบโ   Database      โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
         โ                       โ                       โ
         โผ                       โผ                       โผ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ  FastAPI Backendโ    โ   WebSocket     โ    โ     Redis       โ
โ   (Python)      โโโโโบโ   Real-time     โโโโโบโ   (Celery)      โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
         โ
         โผ
โโโโโโโโโโโโโโโโโโโ
โ   OpenAI API    โ
โ   (AI Dosier)   โ
โโโโโโโโโโโโโโโโโโโ
```

## ะัะปะฐะดะบะฐ

### ะัะพัะผะพัั ะปะพะณะพะฒ

```bash
# ะัะต ัะตัะฒะธัั
docker-compose logs -f

# ะะพะฝะบัะตัะฝัะน ัะตัะฒะธั
docker-compose logs -f backend
docker-compose logs -f bot
docker-compose logs -f frontend
```

### ะะตัะตะทะฐะฟััะบ ัะตัะฒะธัะพะฒ

```bash
# ะะตัะตะทะฐะฟััะบ ะฒัะตั ัะตัะฒะธัะพะฒ
docker-compose restart

# ะะตัะตะทะฐะฟััะบ ะบะพะฝะบัะตัะฝะพะณะพ ัะตัะฒะธัะฐ
docker-compose restart backend
```

### ะะพะดะบะปััะตะฝะธะต ะบ ะฑะฐะทะต ะดะฐะฝะฝัั

```bash
docker-compose exec postgres psql -U farmer -d farmer_crm
```

## ะะฐะทัะฐะฑะพัะบะฐ

### ะะพะฑะฐะฒะปะตะฝะธะต ะฝะพะฒัั ะทะฐะฒะธัะธะผะพััะตะน

**Backend:**
```bash
# ะะพะฑะฐะฒะธัั ะฒ backend/requirements.txt
docker-compose exec backend pip install package_name
docker-compose restart backend
```

**Frontend:**
```bash
# ะะพะนัะธ ะฒ ะบะพะฝัะตะนะฝะตั
docker-compose exec frontend sh
npm install package_name
```

### ะกะพะทะดะฐะฝะธะต ะผะธะณัะฐัะธะน

```bash
docker-compose exec backend alembic revision --autogenerate -m "Description"
docker-compose exec backend alembic upgrade head
```

## ะัะพะธะทะฒะพะดััะฒะตะฝะฝะพะต ัะฐะทะฒะตัััะฒะฐะฝะธะต

1. ะะทะผะตะฝะธัะต ะฟะฐัะพะปะธ ะธ ะบะปััะธ ะฒ `.env`
2. ะะฐัััะพะนัะต reverse proxy (nginx)
3. ะัะฟะพะปัะทัะนัะต ะฒะฝะตัะฝะธะต PostgreSQL ะธ Redis
4. ะะฐัััะพะนัะต SSL ัะตััะธัะธะบะฐัั
5. ะะฐัััะพะนัะต ะผะพะฝะธัะพัะธะฝะณ ะธ ะปะพะณะธัะพะฒะฐะฝะธะต

## ะะพะดะดะตัะถะบะฐ

ะัะธ ะฒะพะทะฝะธะบะฝะพะฒะตะฝะธะธ ะฟัะพะฑะปะตะผ ะฟัะพะฒะตัััะต:
1. ะะพััะตะบัะฝะพััั ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั
2. ะะพัััะฟะฝะพััั ะฒะฝะตัะฝะธั ัะตัะฒะธัะพะฒ (Telegram API, OpenAI API)
3. ะะพะณะธ ัะตัะฒะธัะพะฒ
4. ะกัะฐััั Docker ะบะพะฝัะตะนะฝะตัะพะฒ